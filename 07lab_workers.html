<html>
    <head>
        <title>Web Worker LAB</title>
        <script type="text/javascript">
            worker = new Worker('07sol_workers.js');
			
			worker.addEventListener('error', function(e) {
				//add error handling logic here
			}, false);

			worker.addEventListener('message', function(e) {
				//read data from the worker's solution and display it
				//using appendToTextArea
			}, false);

			jobNumber = 0;
			
			function sendJob() {
			  var a = document.querySelector("#a").value;
			  var b = document.querySelector("#b").value;
			  var c = document.querySelector("#c").value;			  			  
			  //format the job in a suitable way and send it over to
			  //the worker along with the current job number
			  jobNumber++;
			}
			
			function appendToTextArea(str) {				
				var textarea = document.querySelector('textarea');
				textarea.value = textarea.value + str + "\n";
			}			
		</script>
	</head>
    <body>
        <h2>Web Worker LAB</h2>
		<p>Fill in these coefficients to create a cubic polynomial job for the worker:</p>
		a: <input type="text" id="a"/><br/>
		b: <input type="text" id="b"/><br/>
		c: <input type="text" id="c"/><br/>
        <button onclick="sendJob();">Send job to worker</button>
        <br/>
		Output:<br/>
        <textarea cols="60" rows="6"></textarea>
    </body>
</html>

